<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>gif-player demos</title>

    <script src="../../webcomponentsjs/webcomponents-loader.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <script src="../dist/gif-player.es6.js" defer async></script>

    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
      crossorigin="anonymous"></script>
    <script>
      $(document).ready(function () {
        $('select#presets').on('change', function() {
          $('#url').val(this.value);
        });
        $("#customise").submit(function(e) {
          e.preventDefault();
          var width = $('#width').val();
          var height = $('#height').val();
          var size = "auto";
          var style = "";
          if (width != "" || height != "") {
            size = "contain";
            style = "width:"+width+"px;height:"+height+"px";
          }
          var gifAttr = {
            src: $('#url').val(),
            size: size,
            speed: $('#speed').val(),
          }
          if (style != "")
            gifAttr.style = style;
          if ($('#play').prop("checked"))
            gifAttr.play = true;
          if ($('#repeat').prop("checked"))
            gifAttr.repeat = true;
          if ($('#bounce').prop("checked"))
            gifAttr.bounce = true;
          if ($('#reverse').prop("checked"))
            gifAttr.direction = -1;
          var gif = $('<gif-player/>', gifAttr);
          $('#gifbox').append(gif);
        });
      });
    </script>

    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
        .centered {
          max-width: 810px;
        }

        gif-player {
          display: block;
          border: 1px solid #ccc;
        }
      </style>
    </custom-style>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <h3>Demo</h3>
      <p>Yeah, it's an animated GIF, just like if you loaded it in an &lt;img&gt; tag, but ...</p>
      <p>
        Move your mouse over it and you should be able to flip forward and backwards - the left of
        the image is the start of the animation and the right is the end.
      </p>
      <form id="customise">
        <select id="presets">
          <option value="">Pick an example</option>
          <option value="https://media.giphy.com/media/xUA7aN3q0LoPMsetuU/giphy.gif">bird</option>
          <option value="https://media.giphy.com/media/nh5QMbO89SFTG/giphy.gif">rodent</option>
          <option value="https://media.giphy.com/media/71AU6Hvyvg9e8/giphy.gif">car flip</option>
          <option value="https://media.giphy.com/media/TN0GTccRi7Ixa/giphy.gif">car jump</option>
          <option value="https://media3.giphy.com/media/Y5DLjUZysisyA/giphy.gif">car skid</option>
          <option value="https://i.imgur.com/iKXH4E2.gif">jump down</option>
          <option value="https://i.imgur.com/m25uYzq.gif">cube</option>
          <option value="https://i.imgur.com/RY2vTBQ.gif">smoke</option>
          <option value="https://i.imgur.com/OQa6gbp.gif">phone</option>
        </select>
      <input id="url" name="url" type="text" placeholder="Or your own URL" />
      <br/>
      <input type="number" id="width" name="width" min="1" step="1" placeholder="custom width" />
      <input type="number" id="height" name="height" min="1" step="1" placeholder="custom height" />
      <br/>
      <input type="checkbox" id="play" name="play" value="1" /><label for="play">autoplay</label>
      <input type="checkbox" id="repeat" name="repeat" value="1" /><label for="repeat">repeat</label>
      <input type="checkbox" id="bounce" name="bounce" value="1" /><label for="bounce">bounce</label>
      <input type="checkbox" id="reverse" name="reverse" value="1" /><label for="reverse">reverse</label>
      <br/>
      <label for="speed">Speed: </label><input type="number" id="speed" name="speed" min="0.1" step="0.1" value="1.0" />
      <br/>
      <input type="submit" value="Go" />
      </form>
      <div id="gifbox"></div>
    </div>
  </body>
</html>
